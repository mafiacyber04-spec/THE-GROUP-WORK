<!DOCTYPE html>
<html>
<head>
    <title>Dashboard - Stock Management</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
<div class="navbar">
   <h1 style="color: aqua;">üè¶SIMS|| <span style="font-size: small; color: springgreen;">stok invetory management system</span></h1>
    <div>
        <span id="username"></span>
        <button onclick="logout()">Logout</button>
    </div>
</div>
<nav>
    <div class="about" style="background-color: blue;">
<a href="">about</a>
    </div>
    <div class="home" style="background-color: blueviolet;">
<a href="">home</a>
    </div>
   <div class="setting" style="background-color: burlywood;">
 <a href="">setting</a>
   </div>
   <div class="product" style="background-color: cornflowerblue;">
<a href="">product</a>
   </div>
    <div class="report" style="background-color: lawngreen;">
 <a href="">report</a>
    </div>
   
</nav>
</header>
<div class="dashboard">

    <h1 style="font-size: small;">ADD YOUR <span style="font-size: xx-large;background: linear-gradient(blue);" >PRODUCT</span></h1>

    <input type="text" id="pid" placeholder="Product ID" style="background-color: black;">
    <input type="text" id="pname" placeholder="Product Name" style="background-color: blue;">
    <input type="text" id="pcategory" placeholder="Category" style="background-color: crimson;">
    <input type="number" id="pquantity" placeholder="Quantity" style="background-color: deepskyblue;">
    <input type="number" id="pprice" placeholder="Price" style="background-color: maroon;">

    <button onclick="addProduct()" style="border-radius: 2pc;">Add Product</button>

    <h2>Product List</h2>

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Category</th>
                <th>Quantity</th>
                <th>Price</th>
            </tr>
        </thead>
        <tbody id="productTable"></tbody>
    </table>

</div>

<script>

if(localStorage.getItem("loggedIn") !== "true"){
    window.location.href = "index.html";
}

let user = JSON.parse(localStorage.getItem("user"));
document.getElementById("username").innerText = user.fullname;

let products = JSON.parse(localStorage.getItem("products")) || [];

function addProduct(){
    let product = {
        id: document.getElementById("pid").value,
        name: document.getElementById("pname").value,
        category: document.getElementById("pcategory").value,
        quantity: document.getElementById("pquantity").value,
        price: document.getElementById("pprice").value
    };

    products.push(product);
    localStorage.setItem("products", JSON.stringify(products));
    displayProducts();
}

function displayProducts(){
    let table = document.getElementById("productTable");
    table.innerHTML = "";

    products.forEach(p => {
        table.innerHTML += `
            <tr>
                <td>${p.id}</td>
                <td>${p.name}</td>
                <td>${p.category}</td>
                <td>${p.quantity}</td>
                <td>${p.price}</td>
            </tr>
        `;
    });
}

function logout(){
    localStorage.removeItem("loggedIn");
    window.location.href = "index.html";
}

displayProducts();

</script>

</body>
</html>
